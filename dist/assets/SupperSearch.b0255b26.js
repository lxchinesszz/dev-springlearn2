var N=Object.defineProperty;var V=(n,e,c)=>e in n?N(n,e,{enumerable:!0,configurable:!0,writable:!0,value:c}):n[e]=c;var u=(n,e,c)=>(V(n,typeof e!="symbol"?e+"":e,c),c);import{j as D,k as v,o as q,_ as P}from"./index.b5601b3c.js";import{l as U,bJ as J,a as R,r as C,i as Q,w as Z,aZ as j,bl as H,bR as K,bv as X,x as a,y as p,B as l,az as m,aG as Y,bF as $,bG as ee,aQ as r,aT as z,aJ as T,aR as F,aP as E,aL as A,aS as I,bf as te,bg as se}from"./arco.183574d9.js";class ne{constructor(e,c,t,x,B,S,b,k,h,d,s,o,y){u(this,"searchStyle");u(this,"searchBackgroundCss");u(this,"navBarBackgroundCss");u(this,"windowAnimate");u(this,"searchAnimate");u(this,"toolGroupAnimate");u(this,"closeIcon");u(this,"fuzzySearch");u(this,"simplify");u(this,"searchTextCss");u(this,"supperSearchEngine");u(this,"hideSearchAroundText");u(this,"frostedGlass");this.closeIcon=e,this.toolGroupAnimate=c,this.navBarBackgroundCss=t,this.searchAnimate=x,this.windowAnimate=B,this.searchStyle=S,this.searchBackgroundCss=b,this.fuzzySearch=k,this.simplify=h,this.searchTextCss=d,this.supperSearchEngine=s,this.hideSearchAroundText=o,this.frostedGlass=y}}function ie(n,e){const c=t=>{t.keyCode===n&&e.action()};U(()=>{window.addEventListener("keydown",c)}),J(()=>{window.removeEventListener("keydown",c,!1)})}function oe(n="\u897F\u9B4F\u9676\u6E0A\u660E"){const e={method:"get",url:`https://www.baidu.com/sugrec?pre=1&p=3&ie=utf-8&json=1&prod=pc&wd=${n}`};return D(e)}function ae(n="\u897F\u9B4F\u9676\u6E0A\u660E"){const e={method:"get",url:`https://kaifa.baidu.com/rest/v1/recommend/suggests?wd=${n}`};return D(e)}function ce(n="\u897F\u9B4F\u9676\u6E0A\u660E"){const e={method:"get",url:`https://www.zhihu.com/api/v4/search/suggest?q=${n}`};return D(e)}function re(n="\u897F\u9B4F\u9676\u6E0A\u660E"){const e={method:"get",url:`https://s.search.bilibili.com/main/suggest?term=${n}`};return D(e)}const le={name:"SupperSearch",props:{placeholder:{type:String,default:"\u641C\u7D22\u4E00\u5207"},theme:ne},emits:["doAction","blur"],setup(n,e){const c=R(""),t=R(!1),x=()=>{e.emit("doAction",c.value)},B=f=>{e.emit("doAction",f)},S=()=>{t.value=!1,e.emit("blur")},b=R(),k=C([]),h=C([]),d=C([]),s=C([]),o=C([]),y=()=>{v(k),v(h),v(d),v(s),v(o)};ie(27,{action(){y()}});const G=Q("fuse"),M=f=>{n.theme.supperSearchEngine.lastIndexOf("baidu")>-1&&(v(h),oe(f).then(_=>{const w=_.data,{g:i}=w;for(let g=0;g<(i==null?void 0:i.length);g+=1){const W=i[g];h.push(W.q)}}).catch(_=>{console.log(_)})),n.theme.supperSearchEngine.lastIndexOf("kaifa")>-1&&(v(d),ae(f).then(_=>{const i=_.data.data;i&&(i==null?void 0:i.length)>0&&d.push(...i)})),n.theme.supperSearchEngine.lastIndexOf("zhihu")>-1&&(v(s),ce(f).then(_=>{const i=_.data.suggest;if(i&&(i==null?void 0:i.length)>0)for(let g=0;g<i.length;g+=1){const W=i[g];s.push(W.query)}})),n.theme.supperSearchEngine.lastIndexOf("bili")>-1&&(v(o),re(f).then(_=>{const w=_.data,i=Object.values(w);for(let g=0;g<i.length;g+=1)o.push(i[g].value)}))},O=R(!1);return Z(c,f=>{if(n.theme.supperSearchEngine.lastIndexOf("tool")>-1){const _=G.fuseSearch(f);v(k),k.push(..._)}M(f),O.value=t.value&&k.length>0||h.length>0||d.length>0||s.length>0||o.length>0}),{open:f=>{q(f)},searchInputRef:b,zhFuzzyResultList:s,biliFuzzyResultList:o,closeTipAction:y,customSearch:B,tipVisible:t,manySearchTipVisible:O,fuseResultList:k,value:c,search:x,bdFuzzyResultList:h,kfFuzzyResultList:d,blurAction:S}}};const L=n=>(te("data-v-7ed4897b"),n=n(),se(),n),ue={id:"supperWrapper"},he={class:"supperSearch"},de={class:"searchIcon"},pe={class:"searchInput"},me=["placeholder"],fe={key:0,id:"supperTipWrapper",class:"animated fadeIn"},_e={key:0,class:"tipItemWrapper"},ge=L(()=>l("div",{class:"tipItemTitle"}," \u672C\u5730\u641C\u7D22 ",-1)),ye={class:"tipItemList"},ve={key:1,class:"tipItemWrapper"},be=L(()=>l("div",{class:"tipItemTitle"}," \u767E\u5EA6\u641C\u7D22 ",-1)),ke={class:"tipItemList"},ze={key:2,class:"tipItemWrapper"},Ie=L(()=>l("div",{class:"tipItemTitle"}," \u5F00\u53D1\u8005\u641C\u7D22 ",-1)),Se={class:"tipItemList"},we={key:3,class:"tipItemWrapper"},Ce=L(()=>l("div",{class:"tipItemTitle"}," \u77E5\u4E4E\u641C\u7D22 ",-1)),Te={class:"tipItemList"},Fe={key:4,class:"tipItemWrapper"},Ee=L(()=>l("div",{class:"tipItemTitle"}," B\u7AD9\u641C\u7D22 ",-1)),Ae={class:"tipItemList"};function Le(n,e,c,t,x,B){const S=j("icon-search"),b=j("icon-font"),k=H,h=K,d=X;return a(),p("div",ue,[l("div",{id:"supperSearchWrapper",onBlur:e[4]||(e[4]=(...s)=>t.closeTipAction&&t.closeTipAction(...s))},[l("div",he,[l("div",de,[m(S,{size:24,style:{color:"#3974ff"}})]),l("div",pe,[Y(l("input",{ref:"searchInputRef","onUpdate:modelValue":e[0]||(e[0]=s=>t.value=s),placeholder:c.placeholder,onFocus:e[1]||(e[1]=s=>t.tipVisible=!0),onKeydown:e[2]||(e[2]=ee((...s)=>t.search&&t.search(...s),["enter"]))},null,40,me),[[$,t.value]])])]),l("div",{class:"searchBtn",onClick:e[3]||(e[3]=(...s)=>t.search&&t.search(...s))}," \u641C\u7D22 ")],32),t.manySearchTipVisible?(a(),p("div",fe,[t.fuseResultList.length>0?(a(),p("div",_e,[ge,l("div",ye,[m(d,{wrap:""},{default:r(()=>[(a(!0),p(T,null,F(t.fuseResultList,(s,o)=>(a(),E(h,{key:o,size:"large",color:"orangered",checkable:"",class:"searchTipItem animated fadeIn",onMouseover:y=>!0,onCheck:y=>t.open(s.tool.link)},{icon:r(()=>[m(b,{type:"icon-huomiao1"})]),default:r(()=>[m(k,{content:s.tool.desc},{default:r(()=>[A(I(s.categoryName)+"/ "+I(s.tool.title),1)]),_:2},1032,["content"])]),_:2},1032,["onCheck"]))),128))]),_:1})])])):z("",!0),t.bdFuzzyResultList.length>0?(a(),p("div",ve,[be,l("div",ke,[m(d,{wrap:""},{default:r(()=>[(a(!0),p(T,null,F(t.bdFuzzyResultList,(s,o)=>(a(),E(h,{key:o,color:"blue",checkable:"",size:"large",class:"searchTipItem animated fadeIn",onCheck:y=>t.open(`https://www.baidu.com/s?ie=UTF-8&wd=${s}`)},{icon:r(()=>[m(b,{type:"icon-baidu"})]),default:r(()=>[A(" "+I(s),1)]),_:2},1032,["onCheck"]))),128))]),_:1})])])):z("",!0),t.kfFuzzyResultList.length>0?(a(),p("div",ze,[Ie,l("div",Se,[m(d,{wrap:""},{default:r(()=>[(a(!0),p(T,null,F(t.kfFuzzyResultList,(s,o)=>(a(),E(h,{key:o,size:"large",checkable:"",class:"searchTipItem animated fadeIn",onCheck:y=>t.open(`https://kaifa.baidu.com/searchPage?wd=${s}`)},{icon:r(()=>[m(b,{type:"icon-biancheng"})]),default:r(()=>[A(" "+I(s),1)]),_:2},1032,["onCheck"]))),128))]),_:1})])])):z("",!0),t.zhFuzzyResultList.length>0?(a(),p("div",we,[Ce,l("div",Te,[m(d,{wrap:""},{default:r(()=>[(a(!0),p(T,null,F(t.zhFuzzyResultList,(s,o)=>(a(),E(h,{key:o,size:"large",checkable:"",class:"searchTipItem animated fadeIn",onCheck:y=>t.open(`https://www.zhihu.com/search?type=content&q=${s}`)},{icon:r(()=>[m(b,{type:"icon-zhihu-circle-fill"})]),default:r(()=>[A(" "+I(s),1)]),_:2},1032,["onCheck"]))),128))]),_:1})])])):z("",!0),t.biliFuzzyResultList.length>0?(a(),p("div",Fe,[Ee,l("div",Ae,[m(d,{wrap:""},{default:r(()=>[(a(!0),p(T,null,F(t.biliFuzzyResultList,(s,o)=>(a(),E(h,{key:o,size:"large",checkable:"",class:"searchTipItem animated fadeIn",onCheck:y=>t.open(`https://search.bilibili.com/all?keyword=${s}`)},{icon:r(()=>[m(b,{type:"icon-bilibili1"})]),default:r(()=>[A(" "+I(s),1)]),_:2},1032,["onCheck"]))),128))]),_:1})])])):z("",!0)])):z("",!0)])}const xe=P(le,[["render",Le],["__scopeId","data-v-7ed4897b"]]),Oe=Object.freeze(Object.defineProperty({__proto__:null,default:xe},Symbol.toStringTag,{value:"Module"}));export{xe as S,ne as T,Oe as a};
